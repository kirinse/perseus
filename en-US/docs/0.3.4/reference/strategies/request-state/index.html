<!DOCTYPE html>
<html  class="light"><head><base href="https://arctic-hen7.github.io/perseus/" />
<meta  charset="UTF-8"/><meta  name="viewport" content="width=device-width, initial-scale=1.0"/><link  rel="stylesheet" href=".perseus/static/tailwind.css"/><link  rel="stylesheet" href=".perseus/static/styles/style.css"/>
            <script type="module">window.__PERSEUS_RENDER_CFG = '{"docs/next/tutorials/second-app":"docs","docs/0.1.x/building":"docs","docs/0.3.4/advanced/initial-loads":"docs","docs/0.4.x/reference/router":"docs","docs/next/reference/live-reloading-and-hsr":"docs","docs/reference/deploying/intro":"docs","docs/0.3.0-0.3.3/i18n/intro":"docs","docs/0.3.4/reference/templates/metadata-modification":"docs","docs/0.2.x/ejecting":"docs","docs/reference/ejecting":"docs","docs/0.1.x/templates":"docs","docs/0.3.0-0.3.3/static-content":"docs","docs/0.1.x/cli":"docs","docs/0.3.0-0.3.3/hello-world":"docs","docs/0.3.0-0.3.3/updating":"docs","docs/reference/templates/intro":"docs","docs/0.3.4/reference/strategies/build-state":"docs","docs/0.3.4/reference/deploying/intro":"docs","docs/reference/state/global":"docs","docs/0.3.4/reference/i18n/translations-managers":"docs","docs/0.1.x/strategies/incremental":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/0.1.x/intro":"docs","docs/0.3.0-0.3.3/plugins/writing":"docs","docs/reference/strategies/build-state":"docs","docs/0.3.0-0.3.3/plugins/publishing":"docs","docs/0.3.0-0.3.3/exporting":"docs","docs/0.3.4/reference/deploying/serverless":"docs","docs/reference/cli":"docs","docs/0.3.0-0.3.3/strategies/request-state":"docs","docs/0.3.0-0.3.3/snooping":"docs","docs/reference/deploying/size":"docs","docs/0.3.0-0.3.3/server-communication":"docs","docs/0.3.4/advanced/intro":"docs","docs/0.3.4/what-is-perseus":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/0.3.0-0.3.3/templates/metadata-modification":"docs","docs/0.4.x/reference/i18n":"docs","docs/reference/hydration":"docs","docs/next/reference/faq":"docs","docs/0.3.0-0.3.3/second-app":"docs","docs/0.2.x/second-app":"docs","docs/0.1.x/serving":"docs","docs/reference/debugging":"docs","docs/tutorials/second-app":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/reference/i18n/intro":"docs","docs/0.3.4/reference/strategies/amalgamation":"docs","docs/0.3.0-0.3.3/deploying/relative-paths":"docs","docs/0.3.4/reference/strategies/intro":"docs","docs/reference/deploying/serverless":"docs","docs/reference/strategies/amalgamation":"docs","docs/next/getting-started/intro":"docs","docs/0.4.x/intro":"docs","docs/0.4.x/reference/compilation-times":"docs","docs/0.3.0-0.3.3/debugging":"docs","docs/0.3.4/reference/deploying/size":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/next/reference/architecture":"docs","docs/0.3.4/reference/stores":"docs","docs/0.3.4/reference/testing/intro":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/next/reference/hydration":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","docs/0.3.4/reference/strategies/incremental":"docs","docs/reference/stores":"docs","docs/0.2.x/i18n/other-engines":"docs","docs/reference/plugins/intro":"docs","docs/0.3.0-0.3.3/plugins/control":"docs","docs/0.4.x/reference/state-generation":"docs","docs/reference/testing/intro":"docs","docs/0.2.x/debugging":"docs","plugins":"plugins","docs/reference/plugins/using":"docs","docs/0.3.0-0.3.3/plugins/intro":"docs","docs/reference/state/hsr":"docs","docs/0.2.x/what-is-perseus":"docs","docs/0.3.0-0.3.3/strategies/revalidation":"docs","docs/next/reference/migrating":"docs","docs/0.3.4/reference/state/idb-freezing":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/reference/plugins/tinker":"docs","docs/0.2.x/strategies/build-state":"docs","docs/0.3.0-0.3.3/plugins/security":"docs","docs/0.3.0-0.3.3/views":"docs","docs/0.2.x/deploying/exporting":"docs","docs/0.3.4/reference/templates/intro":"docs","docs/0.3.4/reference/i18n/using":"docs","docs/0.2.x/cli":"docs","docs/next/reference/deploying":"docs","docs/0.2.x/intro":"docs","docs/reference/state/freezing":"docs","docs/0.3.4/reference/deploying/relative-paths":"docs","docs/advanced/route-announcer":"docs","docs/0.3.4/reference/plugins/using":"docs","docs/0.2.x/i18n/defining":"docs","docs/0.3.4/reference/i18n/intro":"docs","docs/next/reference/exporting":"docs","docs/0.4.x/getting-started/intro":"docs","docs/advanced/initial-loads":"docs","docs/0.3.0-0.3.3/plugins/functional":"docs","docs/0.2.x/error-pages":"docs","docs/0.2.x/templates/intro":"docs","docs/0.3.4/reference/index-view":"docs","docs/0.3.4/reference/plugins/security":"docs","docs/0.3.0-0.3.3/advanced/subsequent-loads":"docs","docs/0.2.x/advanced/arch":"docs","docs/next/reference/state-generation":"docs","docs/0.3.4/reference/state/global":"docs","docs/0.4.x/reference/initial_subsequent_loads":"docs","docs/next/getting-started/installation":"docs","docs/0.2.x/config-managers":"docs","docs/0.3.4/reference/views":"docs","docs/0.3.4/advanced/routing":"docs","docs/0.3.0-0.3.3/advanced/intro":"docs","docs/0.3.4/reference/pitfalls-and-bugs":"docs","docs/advanced/subsequent-loads":"docs","docs/0.3.0-0.3.3/advanced/arch":"docs","docs/0.3.0-0.3.3/deploying/serverful":"docs","docs/0.3.4/reference/engines":"docs","docs/0.3.4/reference/ejecting":"docs","docs/0.3.4/reference/state/hsr":"docs","docs/0.3.0-0.3.3/testing/fantoccini-basics":"docs","docs/0.3.0-0.3.3/testing/manual":"docs","docs/reference/static-content":"docs","docs/0.4.x/getting-started/installation":"docs","docs/0.3.4/reference/static-content":"docs","docs/next/reference/router":"docs","docs/0.1.x/strategies/request_state":"docs","docs/reference/strategies/build-paths":"docs","docs/0.3.4/reference/templates/router-state":"docs","docs/0.4.x/core-principles":"docs","docs/0.3.4/core-principles":"docs","docs/intro":"docs","docs/next/reference/compilation-times":"docs","docs/0.3.0-0.3.3/strategies/build-paths":"docs","docs/0.2.x/i18n/using":"docs","docs/0.2.x/strategies/request-state":"docs","docs":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/0.3.4/reference/strategies/request-state":"docs","docs/core-principles":"docs","docs/0.4.x/reference/exporting":"docs","docs/reference/deploying/docker":"docs","docs/0.3.0-0.3.3/plugins/tinker":"docs","docs/0.3.0-0.3.3/templates/setting-headers":"docs","docs/next/features":"docs","docs/0.1.x/config_managers":"docs","docs/0.4.x/getting-started/first-app":"docs","docs/0.3.0-0.3.3/styling":"docs","docs/0.2.x/updating":"docs","docs/0.2.x/advanced/intro":"docs","docs/0.3.0-0.3.3/testing/checkpoints":"docs","docs/0.3.0-0.3.3/i18n/other-engines":"docs","docs/0.3.0-0.3.3/i18n/using":"docs","docs/0.2.x/deploying/intro":"docs","docs/0.3.0-0.3.3/stores":"docs","docs/reference/plugins/security":"docs","docs/reference/strategies/request-state":"docs","docs/reference/exporting":"docs","docs/advanced/routing":"docs","docs/0.3.4/reference/plugins/control":"docs","index":"index","docs/reference/testing/fantoccini-basics":"docs","docs/reference/i18n/other-engines":"docs","docs/0.1.x/strategies/intro":"docs","docs/reference/plugins/functional":"docs","docs/0.2.x/advanced/routing":"docs","docs/0.3.0-0.3.3/advanced/initial-loads":"docs","comparisons":"comparisons","docs/0.3.0-0.3.3/strategies/intro":"docs","docs/reference/error-pages":"docs","docs/0.3.4/reference/testing/fantoccini-basics":"docs","docs/0.3.4/reference/cli":"docs","docs/0.4.x/reference/deploying":"docs","docs/0.2.x/i18n/intro":"docs","docs/0.3.0-0.3.3/ejecting":"docs","docs/0.3.4/reference/plugins/publishing":"docs","docs/0.3.4/reference/debugging":"docs","docs/0.3.0-0.3.3/testing/intro":"docs","docs/0.3.4/reference/server-communication":"docs","docs/0.3.0-0.3.3/deploying/size":"docs","docs/reference/templates/setting-headers":"docs","docs/0.2.x/testing/manual":"docs","docs/reference/deploying/relative-paths":"docs","docs/0.3.0-0.3.3/plugins/using":"docs","docs/0.3.4/reference/plugins/writing":"docs","docs/0.3.4/reference/styling":"docs","docs/reference/i18n/defining":"docs","docs/0.3.0-0.3.3/strategies/amalgamation":"docs","docs/0.3.0-0.3.3/pitfalls-and-bugs":"docs","docs/reference/updating":"docs","docs/0.3.4/reference/testing/checkpoints":"docs","docs/0.3.0-0.3.3/define-app":"docs","docs/advanced/intro":"docs","docs/reference/plugins/control":"docs","docs/next/reference/initial_subsequent_loads":"docs","docs/0.4.x/what-is-perseus":"docs","docs/next/reference/i18n":"docs","docs/reference/templates/router-state":"docs","docs/0.4.x/reference/live-reloading-and-hsr":"docs","docs/0.3.0-0.3.3/what-is-perseus":"docs","docs/reference/plugins/publishing":"docs","docs/0.3.4/reference/plugins/tinker":"docs","docs/reference/define-app":"docs","docs/0.2.x/strategies/intro":"docs","docs/0.3.4/reference/templates/setting-headers":"docs","docs/0.1.x/arch":"docs","docs/0.2.x/static-content":"docs","docs/0.2.x/views":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/0.3.4/reference/state/freezing":"docs","docs/0.3.4/advanced/arch":"docs","docs/0.3.4/reference/define-app":"docs","docs/0.1.x/strategies/build_paths":"docs","docs/reference/i18n/translations-managers":"docs","docs/reference/snooping":"docs","docs/reference/strategies/intro":"docs","docs/0.3.0-0.3.3/error-pages":"docs","docs/reference/state/rx":"docs","docs/0.3.4/reference/i18n/defining":"docs","docs/0.4.x/features":"docs","docs/0.4.x/reference/hydration":"docs","docs/reference/views":"docs","docs/0.3.0-0.3.3/i18n/defining":"docs","docs/0.4.x/reference/architecture":"docs","docs/0.3.0-0.3.3/hydration":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/reference/testing/checkpoints":"docs","docs/0.2.x/styling":"docs","docs/0.2.x/strategies/incremental":"docs","docs/0.3.0-0.3.3/intro":"docs","docs/next/reference/plugins":"docs","docs/0.1.x/routing":"docs","docs/0.4.x/reference/plugins":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/next/core-principles":"docs","docs/0.3.4/reference/live-reloading":"docs","docs/0.3.4/reference/error-pages":"docs","docs/0.3.4/reference/plugins/intro":"docs","docs/next/what-is-perseus":"docs","docs/0.3.0-0.3.3/deploying/serverless":"docs","docs/reference/deploying/serverful":"docs","docs/next/intro":"docs","docs/0.4.x/reference/migrating":"docs","docs/0.3.4/advanced/subsequent-loads":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/0.2.x/testing/intro":"docs","docs/0.3.0-0.3.3/advanced/define_app":"docs","docs/0.4.x/reference/faq":"docs","docs/0.3.4/reference/snooping":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/0.3.4/reference/deploying/serverful":"docs","docs/0.3.4/reference/perseus-app":"docs","docs/0.3.4/intro":"docs","docs/0.3.0-0.3.3/strategies/build-state":"docs","docs/0.3.4/reference/state/rx":"docs","docs/0.3.4/reference/i18n/other-engines":"docs","docs/0.3.4/reference/testing/manual":"docs","docs/advanced/arch":"docs","docs/0.3.0-0.3.3/deploying/docker":"docs","docs/reference/i18n/using":"docs","docs/reference/styling":"docs","docs/0.3.0-0.3.3/cli":"docs","docs/reference/templates/metadata-modification":"docs","docs/next/getting-started/first-app":"docs","docs/0.3.4/reference/exporting":"docs","docs/0.3.0-0.3.3/i18n/translations-managers":"docs","docs/0.3.4/tutorials/hello-world":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/reference/state/idb-freezing":"docs","docs/0.2.x/define-app":"docs","docs/0.1.x/error_pages":"docs","docs/0.3.0-0.3.3/deploying/intro":"docs","docs/0.3.4/advanced/route-announcer":"docs","docs/reference/perseus-app":"docs","docs/0.3.4/reference/hydration":"docs","docs/0.3.4/reference/deploying/docker":"docs","docs/0.3.4/tutorials/auth":"docs","docs/reference/live-reloading":"docs","docs/0.3.4/reference/strategies/revalidation":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/0.2.x/hello-world":"docs","docs/0.3.4/reference/strategies/build-paths":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/tutorials/hello-world":"docs","docs/reference/strategies/incremental":"docs","docs/0.3.0-0.3.3/templates/intro":"docs","docs/0.3.4/reference/plugins/functional":"docs","docs/0.1.x/setup":"docs","docs/reference/pitfalls-and-bugs":"docs","docs/0.1.x/strategies/build_state":"docs","docs/reference/strategies/revalidation":"docs","docs/reference/engines":"docs","docs/0.3.4/reference/updating":"docs","docs/reference/plugins/writing":"docs","docs/tutorials/auth":"docs","docs/what-is-perseus":"docs","docs/reference/server-communication":"docs","docs/0.3.4/tutorials/second-app":"docs","docs/reference/testing/manual":"docs","docs/reference/index-view":"docs","docs/0.3.0-0.3.3/strategies/incremental":"docs","docs/0.4.x/tutorials/second-app":"docs","docs/0.3.0-0.3.3/advanced/routing":"docs"}';

        import init from "https://arctic-hen7.github.io/perseus/.perseus/bundle.js";
        async function main() {
            await init("https://arctic-hen7.github.io/perseus/.perseus/bundle.wasm");
        }
        main();
        

window.__PERSEUS_GLOBAL_STATE = `None`;</script>
            <!--PERSEUS_INTERPOLATED_HEAD_BEGINS-->
            
<title>Request State | Perseus Docs</title><link rel="stylesheet" href=".perseus/static/styles/markdown.css"/><link rel="stylesheet" href=".perseus/static/styles/docs_links_markdown.css"/><link rel="stylesheet" href=".perseus/static/prism.css"/>
            <script>
window.__PERSEUS_INITIAL_STATE = `{"title":"Request State","content":"<h1>Request State</h1>\\n<p>While build-time strategies fulfill many use-cases, there are also scenarios in which you may need access to information only available at request-time, like an authentication key that the client sends over HTTP as a cookie. For these cases, Perseus supports the <em>request state</em> strategy, which is akin to traditional server-side rendering, whereby you render the page when a client requests it.</p>\\n<p>If you can avoid this strategy, do, because it will bring your app's TTFB (time to first byte) down, remember that anything done in this strategy is done on the server while the client is waiting for a page.</p>\\n<h2>Usage</h2>\\n<p>Here's an example taken from <a href=\\"https://github.com/arctic-hen7/perseus/blob/main/examples/core/state_generation/src/templates/request_state.rs\\">here</a> of using this strategy to tell the user their own IP address (albeit not hugely reliably as this header can be trivially spoofed, but this is for demonstration purposes):</p>\\n<pre><code class=\\"language-rust\\">use perseus::{RenderFnResultWithCause, Request, Template};\\nuse sycamore::prelude::{view, Html, View};\\n\\n#[perseus::make_rx(PageStateRx)]\\npub struct PageState {\\n    ip: String,\\n}\\n\\n#[perseus::template_rx]\\npub fn request_state_page(state: PageStateRx) -&gt; View&lt;G&gt; {\\n    view! {\\n        p {\\n            (\\n                format!(&quot;Your IP address is {}.&quot;, state.ip.get())\\n            )\\n        }\\n    }\\n}\\n\\npub fn get_template&lt;G: Html&gt;() -&gt; Template&lt;G&gt; {\\n    Template::new(&quot;request_state&quot;)\\n        .request_state_fn(get_request_state)\\n        .template(request_state_page)\\n}\\n\\n#[perseus::autoserde(request_state)]\\npub async fn get_request_state(\\n    _path: String,\\n    _locale: String,\\n    // Unlike in build state, in request state we get access to the information that the user sent with their HTTP request\\n    // IN this example, we extract the browser's reporting of their IP address and display it to them\\n    req: Request,\\n) -&gt; RenderFnResultWithCause&lt;PageState&gt; {\\n    Ok(PageState {\\n        ip: format!(\\n            &quot;{:?}&quot;,\\n            req.headers()\\n                // NOTE: This header can be trivially spoofed, and may well not be the user's actual IP address\\n                .get(&quot;X-Forwarded-For&quot;)\\n                .unwrap_or(&amp;perseus::http::HeaderValue::from_str(&quot;hidden from view!&quot;).unwrap())\\n        ),\\n    })\\n}\\n\\n</code></pre>\\n<p>Note that, just like <em>build state</em>, this strategy generates stringified properties that will be passed to the page to render it (serialization is handled by <code>#[perseus::autoserde(request_state)]</code>), and it also uses <code>RenderFnWithCause</code> (see the section on <a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/build-state\\">build state</a> for more information). The key difference though is that this strategy receives a second, very powerful parameter: the HTTP request that the user sent (<code>perseus::Request</code>).</p>\\n<details>\\n<summary>How do you get the user's request information?</summary>\\n<p>The web frameworks Perseus supports automatically pass this information to handlers like Perseus. The slightly difficult thing is then converting this from their custom format to Perseus' (which is just an alias for the <a href=\\"https://docs.rs/http\\"><code>http</code></a> module's). This is done in the appropriate server integration crate.</p>\\n</details>\\n<p>That parameter is actually just an alias for <a href=\\"https://docs.rs/http/0.2/http/request/struct.Request.html\\">this</a>, which gives you access to all manner of things in the user's HTTP request. The main one we're concerned with in this example though is <code>X-Forwarded-For</code>, which contains the user's IP address (unless it's trivially spoofed). Because we can't assume that any HTTP header exists, we fall back to a message saying the IP address is hidden if we can't access the header.</p>\\n","sidebar_content":"<h1>Introduction</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/intro\\">Introduction</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/what-is-perseus\\">What is Perseus?</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/core-principles\\">Core Principles</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/tutorials/hello-world\\">Hello World!</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/tutorials/second-app\\">Your Second App</a></li>\\n</ul>\\n<hr />\\n<h1>Reference</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/perseus-app\\"><code>PerseusApp</code></a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/define-app\\"><code>define_app!</code></a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/views\\">Writing Views</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/index-view\\">The Index View</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/debugging\\">Debugging</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/live-reloading\\">Live Reloading</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/intro\\">Templates and Routing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/metadata-modification\\">Modifying the <code>&lt;head&gt;</code></a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/setting-headers\\">Modifying HTTP Headers</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/router-state\\">Listening to the Router</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/error-pages\\">Error Pages</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/static-content\\">Static Content</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/intro\\">Internationalization</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/defining\\">Defining Translations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/using\\">Using Translations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/translations-managers\\">Translations Managers</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/other-engines\\">Other Translation Engines</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/intro\\">Rendering Strategies</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/build-state\\">Build State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/build-paths\\">Build Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/request-state\\">Request State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/revalidation\\">Revalidation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/incremental\\">Incremental Generation</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/amalgamation\\">State Amalgamation</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/hydration\\">Hydration</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/rx\\">Reactive State</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/global\\">Global State</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/freezing\\">State Freezing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/idb-freezing\\">Freezing to IndexedDB</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/hsr\\">Hot State Reloading (HSR)</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/cli\\">CLI</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/ejecting\\">Ejecting</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/snooping\\">Snooping</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/intro\\">Testing</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/checkpoints\\">Checkpoints</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/fantoccini-basics\\">Fantoccini Basics</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/manual\\">Manual Testing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/styling\\">Styling</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/server-communication\\">Communicating with a Server</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/stores\\">Stores</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/exporting\\">Static Exporting</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/intro\\">Plugins</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/functional\\">Functional Actions</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/control\\">Control Actions</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/using\\">Using Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/tinker\\">The <code>tinker</code> Action</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/writing\\">Writing Plugins</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/security\\">Security Considerations</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/publishing\\">Publishing Plugins</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/engines\\">Engines</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/intro\\">Deploying</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/serverful\\">Server Deployment</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/serverless\\">Serverless Deployment</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/size\\">Optimizing Code Size</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/relative-paths\\">Relative Paths</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/docker\\">Docker Deployment</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/updating\\">Migrating from v0.3.3</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/pitfalls-and-bugs\\">Common Pitfalls and Known Bugs</a></li>\\n</ul>\\n<hr />\\n<h1>Advanced</h1>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/intro\\">Under the Hood</a>\\n<ul>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/arch\\">Architecture</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/initial-loads\\">Initial Loads</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/subsequent-loads\\">Subsequent Loads</a></li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/routing\\">Routing</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/route-announcer\\">Route Announcer</a></li>\\n</ul>\\n<hr />\\n<h1>Further Tutorials</h1>\\n<ul>\\n<li><a href=\\"docs/tutorials/auth\\">Authentication</a></li>\\n</ul>\\n","status":"Stable","manifest":{"0.2.x":{"state":"outdated","git":"v0.2.3","docs_rs":"0.2"},"0.1.x":{"state":"outdated","git":"v0.1.4","docs_rs":"0.1"},"0.3.0-0.3.3":{"state":"outdated","git":"v0.3.3","docs_rs":"0.3.3"},"0.3.4":{"state":"stable","git":"eccf137032fbe8e6507be9e9317edc16e7576a4f","docs_rs":"0.3"},"0.4.x":{"state":"beta","git":"HEAD","docs_rs":"0.4.0-beta"}},"current_version":"0.3.4"}`;</script>
            </head><body  class="bg-white dark:bg-navy"><div><div id="root"><div id="__perseus_content_initial" class="__perseus_content"><header data-hk="1.1" class="shadow-md sm:p-2 w-full bg-white dark:text-white dark:bg-navy mb-20"><div data-hk="1.2" class="flex justify-between"><a data-hk="1.3" class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl" href="en-US/">Perseus</a><div data-hk="1.4" class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6 "><div data-hk="1.5" class="tham-box"><div data-hk="1.6" class="dark:bg-white tham-inner"></div></div></div><nav data-hk="1.7" class="hidden md:flex"><ul data-hk="1.8" class="mr-5 flex"><li data-hk="2.0" class="m-3 p-1"><a data-hk="2.1" href="en-US/docs" class="px-2">Docs</a></li><li data-hk="2.2" class="m-3 p-1"><a data-hk="2.3" href="en-US/comparisons" class="px-2">Comparisons</a></li><li data-hk="2.4" class="m-3 p-1"><a data-hk="2.5" href="en-US/plugins" class="px-2">Plugins</a></li></ul></nav></div><nav data-hk="1.9" id="mobile_nav_menu" class="md:hidden w-full text-center justify-center overflow-y-scroll hidden"><div data-hk="1.10" class="mr-5 overflow-y-scroll" style="max-height: 500px"><ul data-hk="1.11"><li data-hk="3.0" class="m-3 p-1"><a data-hk="3.1" href="en-US/docs" class="px-2">Docs</a></li><li data-hk="3.2" class="m-3 p-1"><a data-hk="3.3" href="en-US/comparisons" class="px-2">Comparisons</a></li><li data-hk="3.4" class="m-3 p-1"><a data-hk="3.5" href="en-US/plugins" class="px-2">Plugins</a></li></ul><hr data-hk="1.12"/><div data-hk="1.13" class="text-left p-3"><!--#--><!----><select data-hk="4.4" class="p-2 rounded-md text-white bg-indigo-500"><option data-hk="4.5" value="next">Next (unreleased)</option><option data-hk="4.0" value="0.4.x">v⁨0.4.x⁩ (beta)</option><option data-hk="4.6" value="0.3.4" selected="">v⁨0.3.4⁩ (stable)</option><option data-hk="4.1" value="0.3.0-0.3.3">v⁨0.3.0-0.3.3⁩ (outdated)</option><option data-hk="4.2" value="0.2.x">v⁨0.2.x⁩ (outdated)</option><option data-hk="4.3" value="0.1.x">v⁨0.1.x⁩ (outdated)</option></select><!--/--><div data-hk="1.14" class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/intro">Introduction</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/core-principles">Core Principles</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/tutorials/hello-world">Hello World!</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/tutorials/second-app">Your Second App</a></li>
</ul>
<hr />
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/perseus-app"><code>PerseusApp</code></a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/define-app"><code>define_app!</code></a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/views">Writing Views</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/index-view">The Index View</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/debugging">Debugging</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/live-reloading">Live Reloading</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/intro">Templates and Routing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/metadata-modification">Modifying the <code>&lt;head&gt;</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/setting-headers">Modifying HTTP Headers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/router-state">Listening to the Router</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/error-pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/static-content">Static Content</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/intro">Internationalization</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/defining">Defining Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/using">Using Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/translations-managers">Translations Managers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/other-engines">Other Translation Engines</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/build-state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/build-paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/request-state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/incremental">Incremental Generation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/amalgamation">State Amalgamation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/hydration">Hydration</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/rx">Reactive State</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/global">Global State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/freezing">State Freezing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/idb-freezing">Freezing to IndexedDB</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/hsr">Hot State Reloading (HSR)</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/cli">CLI</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/ejecting">Ejecting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/snooping">Snooping</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/intro">Testing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/checkpoints">Checkpoints</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/fantoccini-basics">Fantoccini Basics</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/manual">Manual Testing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/styling">Styling</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/server-communication">Communicating with a Server</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/stores">Stores</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/intro">Plugins</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/functional">Functional Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/control">Control Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/using">Using Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/tinker">The <code>tinker</code> Action</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/writing">Writing Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/security">Security Considerations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/publishing">Publishing Plugins</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/engines">Engines</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/intro">Deploying</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/serverful">Server Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/serverless">Serverless Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/size">Optimizing Code Size</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/relative-paths">Relative Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/docker">Docker Deployment</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/updating">Migrating from v0.3.3</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/pitfalls-and-bugs">Common Pitfalls and Known Bugs</a></li>
</ul>
<hr />
<h1>Advanced</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/intro">Under the Hood</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/initial-loads">Initial Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/subsequent-loads">Subsequent Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/routing">Routing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/route-announcer">Route Announcer</a></li>
</ul>
<hr />
<h1>Further Tutorials</h1>
<ul>
<li><a href="docs/tutorials/auth">Authentication</a></li>
</ul>
</div></div></div></nav></header><div data-hk="1.15" class="mt-14 xs:mt-16 sm:mt-20 lg:mt-25 overflow-y-auto flex"><div data-hk="1.16" class="flex w-full"><div data-hk="1.17" class="h-full hidden md:block max-w-xs w-full border-r"><div data-hk="1.18" class="mr-5"><div data-hk="1.19" class="text-left text-black dark:text-white p-3"><aside data-hk="1.20"><!--#--><!----><select data-hk="5.4" class="p-2 rounded-md text-white bg-indigo-500"><option data-hk="5.5" value="next">Next (unreleased)</option><option data-hk="5.0" value="0.4.x">v⁨0.4.x⁩ (beta)</option><option data-hk="5.6" value="0.3.4" selected="">v⁨0.3.4⁩ (stable)</option><option data-hk="5.1" value="0.3.0-0.3.3">v⁨0.3.0-0.3.3⁩ (outdated)</option><option data-hk="5.2" value="0.2.x">v⁨0.2.x⁩ (outdated)</option><option data-hk="5.3" value="0.1.x">v⁨0.1.x⁩ (outdated)</option></select><!--/--><div data-hk="1.21" class="docs-links-markdown"><h1>Introduction</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/intro">Introduction</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/what-is-perseus">What is Perseus?</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/core-principles">Core Principles</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/tutorials/hello-world">Hello World!</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/tutorials/second-app">Your Second App</a></li>
</ul>
<hr />
<h1>Reference</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/perseus-app"><code>PerseusApp</code></a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/define-app"><code>define_app!</code></a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/views">Writing Views</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/index-view">The Index View</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/debugging">Debugging</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/live-reloading">Live Reloading</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/intro">Templates and Routing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/metadata-modification">Modifying the <code>&lt;head&gt;</code></a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/setting-headers">Modifying HTTP Headers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/templates/router-state">Listening to the Router</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/error-pages">Error Pages</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/static-content">Static Content</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/intro">Internationalization</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/defining">Defining Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/using">Using Translations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/translations-managers">Translations Managers</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/i18n/other-engines">Other Translation Engines</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/intro">Rendering Strategies</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/build-state">Build State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/build-paths">Build Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/request-state">Request State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/revalidation">Revalidation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/incremental">Incremental Generation</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/amalgamation">State Amalgamation</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/hydration">Hydration</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/rx">Reactive State</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/global">Global State</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/freezing">State Freezing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/idb-freezing">Freezing to IndexedDB</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/state/hsr">Hot State Reloading (HSR)</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/cli">CLI</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/ejecting">Ejecting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/snooping">Snooping</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/intro">Testing</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/checkpoints">Checkpoints</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/fantoccini-basics">Fantoccini Basics</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/testing/manual">Manual Testing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/styling">Styling</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/server-communication">Communicating with a Server</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/stores">Stores</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/exporting">Static Exporting</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/intro">Plugins</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/functional">Functional Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/control">Control Actions</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/using">Using Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/tinker">The <code>tinker</code> Action</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/writing">Writing Plugins</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/security">Security Considerations</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/plugins/publishing">Publishing Plugins</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/engines">Engines</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/intro">Deploying</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/serverful">Server Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/serverless">Serverless Deployment</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/size">Optimizing Code Size</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/relative-paths">Relative Paths</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/deploying/docker">Docker Deployment</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/updating">Migrating from v0.3.3</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/pitfalls-and-bugs">Common Pitfalls and Known Bugs</a></li>
</ul>
<hr />
<h1>Advanced</h1>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/intro">Under the Hood</a>
<ul>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/arch">Architecture</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/initial-loads">Initial Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/subsequent-loads">Subsequent Loads</a></li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/routing">Routing</a></li>
</ul>
</li>
<li><a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/advanced/route-announcer">Route Announcer</a></li>
</ul>
<hr />
<h1>Further Tutorials</h1>
<ul>
<li><a href="docs/tutorials/auth">Authentication</a></li>
</ul>
</div></aside></div></div></div><div data-hk="1.22" class="h-full flex w-full"><div data-hk="1.23" class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl"><!--#--><!----><!--/--><main data-hk="1.24" class="text-black dark:text-white"><div data-hk="1.0" class="markdown"><h1>Request State</h1>
<p>While build-time strategies fulfill many use-cases, there are also scenarios in which you may need access to information only available at request-time, like an authentication key that the client sends over HTTP as a cookie. For these cases, Perseus supports the <em>request state</em> strategy, which is akin to traditional server-side rendering, whereby you render the page when a client requests it.</p>
<p>If you can avoid this strategy, do, because it will bring your app's TTFB (time to first byte) down, remember that anything done in this strategy is done on the server while the client is waiting for a page.</p>
<h2>Usage</h2>
<p>Here's an example taken from <a href="https://github.com/arctic-hen7/perseus/blob/main/examples/core/state_generation/src/templates/request_state.rs">here</a> of using this strategy to tell the user their own IP address (albeit not hugely reliably as this header can be trivially spoofed, but this is for demonstration purposes):</p>
<pre><code class="language-rust">use perseus::{RenderFnResultWithCause, Request, Template};
use sycamore::prelude::{view, Html, View};

#[perseus::make_rx(PageStateRx)]
pub struct PageState {
    ip: String,
}

#[perseus::template_rx]
pub fn request_state_page(state: PageStateRx) -&gt; View&lt;G&gt; {
    view! {
        p {
            (
                format!(&quot;Your IP address is {}.&quot;, state.ip.get())
            )
        }
    }
}

pub fn get_template&lt;G: Html&gt;() -&gt; Template&lt;G&gt; {
    Template::new(&quot;request_state&quot;)
        .request_state_fn(get_request_state)
        .template(request_state_page)
}

#[perseus::autoserde(request_state)]
pub async fn get_request_state(
    _path: String,
    _locale: String,
    // Unlike in build state, in request state we get access to the information that the user sent with their HTTP request
    // IN this example, we extract the browser's reporting of their IP address and display it to them
    req: Request,
) -&gt; RenderFnResultWithCause&lt;PageState&gt; {
    Ok(PageState {
        ip: format!(
            &quot;{:?}&quot;,
            req.headers()
                // NOTE: This header can be trivially spoofed, and may well not be the user's actual IP address
                .get(&quot;X-Forwarded-For&quot;)
                .unwrap_or(&amp;perseus::http::HeaderValue::from_str(&quot;hidden from view!&quot;).unwrap())
        ),
    })
}

</code></pre>
<p>Note that, just like <em>build state</em>, this strategy generates stringified properties that will be passed to the page to render it (serialization is handled by <code>#[perseus::autoserde(request_state)]</code>), and it also uses <code>RenderFnWithCause</code> (see the section on <a href="https://arctic-hen7.github.io/perseus/en-US/docs/0.3.4/reference/strategies/build-state">build state</a> for more information). The key difference though is that this strategy receives a second, very powerful parameter: the HTTP request that the user sent (<code>perseus::Request</code>).</p>
<details>
<summary>How do you get the user's request information?</summary>
<p>The web frameworks Perseus supports automatically pass this information to handlers like Perseus. The slightly difficult thing is then converting this from their custom format to Perseus' (which is just an alias for the <a href="https://docs.rs/http"><code>http</code></a> module's). This is done in the appropriate server integration crate.</p>
</details>
<p>That parameter is actually just an alias for <a href="https://docs.rs/http/0.2/http/request/struct.Request.html">this</a>, which gives you access to all manner of things in the user's HTTP request. The main one we're concerned with in this example though is <code>X-Forwarded-For</code>, which contains the user's IP address (unless it's trivially spoofed). Because we can't assume that any HTTP header exists, we fall back to a message saying the IP address is hidden if we can't access the header.</p>
</div></main></div></div></div></div><footer data-hk="1.25" class="w-full flex justify-center py-5 bg-gray-100 dark:bg-navy-deep"><p data-hk="1.26" class="dark:text-white mx-5 text-center"><span data-hk="1.27">© <a href="https://github.com/arctic-hen7" class="underline">arctic-hen7</a> ⁨2021⁩, see license <a href="https://github.com/arctic-hen7/perseus/blob/main/LICENSE" class="underline">here</a>.</span></p></footer><script data-hk="0.0" src=".perseus/static/prism.js" defer=""></script><script data-hk="0.1">window.Prism.highlightAll();</script></div></div></div></body></html>